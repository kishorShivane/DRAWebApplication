@model DRAWeb.Models.UserModel
@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_LandingLayout.cshtml";
    var loginURL = @Url.Action("Login", "UserAccount");
}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="fadeInDown">
                <form asp-controller="Registration" asp-action="Register" method="post" id="formRegister">
                    <div class="card mx-4">
                        <div class="card-body p-4">
                            <h1>Register</h1>
                            <p class="text-muted">Create your account</p>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        Organization
                                    </span>
                                </div>
                                <select class="form-control" asp-for="Organization" name="Organization" id="ddlOrganization" required>
                                    <option disabled selected value="">Please select</option>
                                    <option value="Gijima">Gijima</option>
                                </select>
                                <div class="invalid-feedback">Please select a Organization.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Industry </span>
                                </div>
                                <select class="form-control" asp-for="Industry" name="Industry" id="ddlIndustry" required>
                                    <option disabled selected value="">Please select</option>
                                    <option value="Agriculture">Agriculture</option>
                                    <option value="Energy">Energy</option>
                                    <option value="Engineering">Engineering</option>
                                    <option value="Government">Government</option>
                                    <option value="Households">Households</option>
                                    <option value="Manufacturing">Manufacturing</option>
                                    <option value="Mining">Mining</option>
                                    <option value="Retail">Retail</option>
                                    <option value="Services">Services</option>
                                    <option value="Transport">Transport</option>
                                </select>
                                <div class="invalid-feedback">Please select a Industry.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        Function
                                    </span>
                                </div>
                                <select class="form-control" asp-for="BusinessFunction" name="BusinessFunction" id="ddlBusinessFunction" required>
                                    <option disabled selected value="">Please select</option>
                                    <option value="Administration">Administration</option>
                                    <option value="Engineering">Engineering</option>
                                    <option value="Finance">Finance</option>
                                    <option value="HR">HR</option>
                                    <option value="ICT">ICT</option>
                                    <option value="Legal, Compliance & Audit">Legal, Compliance & Audit</option>
                                    <option value="Management">Management</option>
                                    <option value="Operations">Operations</option>
                                    <option value="Sales&Marketing">Sales&Marketing</option>
                                    <option value="Supply Chain">Supply Chain</option>
                                </select>
                                <div class="invalid-feedback">Please select a Business Function.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">Job Title </span>
                                </div>
                                <select class="form-control" asp-for="JobID" name="JobID" id="ddlJobID" required>
                                    <option disabled selected value="">Please select</option>
                                    <option value="1">Senior Executive</option>
                                    <option value="2">Executive</option>
                                    <option value="3">Chief Specialist</option>
                                    <option value="4">Senior Manager</option>
                                    <option value="5">Senior Specialist</option>
                                    <option value="6">Manager</option>
                                    <option value="7">Professional Specialist</option>
                                    <option value="8">Team Leader</option>
                                    <option value="9">Technical Specialist</option>
                                    <option value="10">Office Administrator</option>
                                    <option value="11">Business Process Implementor</option>
                                    <option value="12">General Worker</option>
                                </select>
                                <div class="invalid-feedback">Please select a Job Title.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        First Name
                                    </span>
                                </div>
                                <input class="form-control" asp-for="UserName" name="UserName" type="text" placeholder="First Name" id="txtUserName" required>
                                <div class="invalid-feedback">Please enter a Username.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        Last Name
                                    </span>
                                </div>
                                <input class="form-control" asp-for="UserSurname" name="UserSurname" type="text" placeholder="Last Name" id="txtUserSurname" required>
                                <div class="invalid-feedback">Please enter a Surname.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        ID/Passport
                                    </span>
                                </div>
                                <input class="form-control" asp-for="ID" name="ID" type="text" placeholder="ID/Passport" id="txtIDPassport" required>
                                <div class="invalid-feedback">Please enter a valid ID/Passport.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        Email
                                    </span>
                                </div>
                                <input class="form-control" asp-for="UserEmail" name="UserEmail" type="email" placeholder="Email" id="txtEmail" required>
                                <div class="invalid-feedback">Please enter a valid email address.</div>
                            </div>
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        Password
                                    </span>
                                </div>
                                <input class="form-control" asp-for="UserPassword" name="UserPassword" type="password" placeholder="Password" id="txtPassword" required minlength="8">
                                <div class="invalid-feedback">Password is mandatory with minimun 8 characters.</div>
                            </div>

                        </div>
                        <div class="card-footer p-4">
                            <div class="row">
                                <div class="col-6">
                                    <button class="btn btn-block btn-success" type="submit" id="btnSubmit">Create Account</button>
                                </div>
                                <div class="col-6">
                                    <button class="btn btn-block btn-danger" type="button" id="btnCancel">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
     $(document).ready(function () {
         $("button#btnCancel").click(function () {
             alertify.confirm('Confirm', "Are you sure you want to exit?", function ()
             {
                 window.location.href = '@loginURL';
             }, function ()
                 { alertify.success('Please continue editing!!') });
        });
     });

    $("#btnSubmit").click(function (event) {

        // Fetch form to apply custom Bootstrap validation
        var form = $("#formRegister")
        debugger;
        if (form[0].checkValidity() === false) {
            event.preventDefault()
            event.stopPropagation()
        }

        form.addClass('was-validated');
        // Perform ajax submit here...

    });
</script>